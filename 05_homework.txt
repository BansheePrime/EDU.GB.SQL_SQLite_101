"""
Задание
Работаем с базой данных учителей teachers.db. 
Для каждого задания создайте запрос, сдать нужно только код запросов в текстовом файле. 
Для решения воспользуйтесь вложенными запросами и UNION.
1. Найдите потоки, количество учеников в которых больше или равно 40. 
В отчет выведите номер потока, название курса и количество учеников.

2. Найдите два потока с самыми низкими значениями успеваемости. 
В отчет выведите номер потока, название курса, фамилию и имя преподавателя (одним столбцом), оценку успеваемости.

3. Найдите среднюю успеваемость всех потоков преподавателя Николая Савельева. 
В отчёт выведите идентификатор преподавателя и среднюю оценку по потокам.

4. Найдите потоки преподавателя Натальи Петровой, а также потоки, по которым успеваемость ниже 4.8. 
В отчёт выведите идентификатор потока, фамилию и имя преподавателя.

5. Дополнительное задание. 
Найдите разницу между средней успеваемостью преподавателя с наивысшим соответствующим значением и 
средней успеваемостью преподавателя с наименьшим значением. 
Средняя успеваемость считается по всем потокам преподавателя.


"""
1
sqlite> .header on  # для удобства
sqlite> SELECT * FROM streams_tb LIMIT 1;  # посмотреть текущее состояние в первой строке
        id|course_id|stream_number|started_at|students_number|finished_at
        1|3|165|18.08.2020|34|0
sqlite> UPDATE streams_tb SET started_at = SUBSTR(started_at, 7, 4) || '-' || SUBSTR(started_at, 4, 2) || '-' || SUBSTR(started_at, 1, 2);
/*****/ обновляем столбец начала потока, присваивая ему результат функции SUBSTR и заполняем промежутки знаком "-"
/*****/ функция SUBSTR извлекает подстроку, начиная с определенной позиции и определенной длины
sqlite> SELECT * FROM streams_tb LIMIT 1;
        1|3|165|2020-08-18|34|0

2
